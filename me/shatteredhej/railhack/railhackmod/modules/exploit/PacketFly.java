//Deobfuscated with https://github.com/SimplyProgrammer/Minecraft-Deobfuscator3000 using mappings "C:\Users\Admin\Desktop\Minecraft-Deobfuscator3000-1.2.2\1.12 stable mappings"!

//Decompiled by Procyon!

package me.shatteredhej.railhack.railhackmod.modules.exploit;

import me.shatteredhej.railhack.railhackmod.module.*;
import me.shatteredhej.railhack.railhackmod.category.*;
import net.minecraft.network.play.client.*;
import net.minecraft.network.*;

public class PacketFly extends Module
{
    public PacketFly() {
        super(Category.Exploit);
        this.name = "PacketFly";
        this.tag = "PacketFly";
        this.description = "packet fly";
    }
    
    private static double[] moveLooking(final int ignored) {
        return new double[] { PacketFly.mc.player.rotationYaw * 360.0f / 360.0f * 180.0f / 180.0f, ignored };
    }
    
    public void onUpdate() {
        if (!this.isActive()) {
            return;
        }
        final double[] dir = moveLooking(0);
        final double xDir = dir[0];
        final double zDir = dir[1];
        PacketFly.mc.player.motionX = 0.0;
        PacketFly.mc.player.motionY = 0.0;
        PacketFly.mc.player.motionZ = 0.0;
        PacketFly.mc.player.connection.sendPacket((Packet)new CPacketPlayer.PositionRotation(PacketFly.mc.player.posX + PacketFly.mc.player.motionX + (PacketFly.mc.gameSettings.keyBindForward.isKeyDown() ? 0.0624 : 0.0) - (PacketFly.mc.gameSettings.keyBindBack.isKeyDown() ? 0.0624 : 0.0), PacketFly.mc.player.posY + (PacketFly.mc.gameSettings.keyBindJump.isKeyDown() ? 0.0624 : 0.0) - (PacketFly.mc.gameSettings.keyBindSneak.isKeyDown() ? 0.0624 : 0.0), PacketFly.mc.player.posZ + PacketFly.mc.player.motionZ + (PacketFly.mc.gameSettings.keyBindRight.isKeyDown() ? 0.0624 : 0.0) - (PacketFly.mc.gameSettings.keyBindLeft.isKeyDown() ? 0.0624 : 0.0), PacketFly.mc.player.rotationYaw, PacketFly.mc.player.rotationPitch, false));
        PacketFly.mc.player.connection.sendPacket((Packet)new CPacketPlayer.PositionRotation(PacketFly.mc.player.posX + PacketFly.mc.player.motionX, PacketFly.mc.player.posY - 42069.0, PacketFly.mc.player.posZ + PacketFly.mc.player.motionZ, PacketFly.mc.player.rotationYaw, PacketFly.mc.player.rotationPitch, true));
    }
}
